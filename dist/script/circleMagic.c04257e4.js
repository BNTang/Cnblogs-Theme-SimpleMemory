(self.webpackChunkCnblogs_Theme_SimpleMemory=self.webpackChunkCnblogs_Theme_SimpleMemory||[]).push([["circleMagic"],{"./src/vendor/circleMagic/circleMagic.js":
/*!***********************************************!*\
  !*** ./src/vendor/circleMagic/circleMagic.js ***!
  \***********************************************/function(){eval(";(function ($) {\r\n    $.fn.circleMagic = function (options) {\r\n\r\n        var width, height, canvas, ctx, animateHeader = true;\r\n        var circles = [];\r\n\r\n        var settings = $.extend({\r\n            color: 'rgba(255,255,255,.5)',\r\n            radius: 10,\r\n            density: 0.3,\r\n            clearOffset: 0.2\r\n        }, options);\r\n\r\n        //  Main\r\n\r\n        var container = this['0'];\r\n        initContainer();\r\n        addListeners();\r\n\r\n        function initContainer() {\r\n            width = container.offsetWidth;\r\n            height = container.offsetHeight;\r\n\r\n            //  create canvas element\r\n\r\n            initCanvas();\r\n            canvas = document.getElementById('homeTopCanvas');\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            canvas.style.position = 'absolute';\r\n            canvas.style.left = '0';\r\n            canvas.style.bottom = '0';\r\n            ctx = canvas.getContext('2d');\r\n\r\n            //  create circles\r\n            for (var x = 0; x < width * settings.density; x++) {\r\n                var c = new Circle();\r\n                circles.push(c);\r\n            }\r\n            animate();\r\n        }\r\n\r\n        //Init canvas element\r\n        function initCanvas() {\r\n            var canvasElement = document.createElement('canvas');\r\n            canvasElement.id = 'homeTopCanvas';\r\n            container.appendChild(canvasElement);\r\n            canvasElement.parentElement.style.overflow = 'hidden';\r\n\r\n        }\r\n\r\n        // Event handling\r\n        function addListeners() {\r\n            window.addEventListener('scroll', scrollCheck, false);\r\n            window.addEventListener('resize', resize, false);\r\n        }\r\n\r\n        function scrollCheck() {\r\n            if (document.body.scrollTop > height) {\r\n                animateHeader = false;\r\n            }\r\n            else {\r\n                animateHeader = true;\r\n            }\r\n        }\r\n\r\n        function resize() {\r\n            width = container.clientWidth;\r\n            height = container.clientHeight;\r\n            container.height = height + 'px';\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n        }\r\n\r\n        function animate() {\r\n            if (animateHeader) {\r\n                ctx.clearRect(0, 0, width, height);\r\n                for (var i in circles) {\r\n                    circles[i].draw();\r\n                }\r\n            }\r\n            requestAnimationFrame(animate);\r\n        }\r\n\r\n        function randomColor() {\r\n            var r = Math.floor(Math.random() * 255);\r\n            var g = Math.floor(Math.random() * 255);\r\n            var b = Math.floor(Math.random() * 255);\r\n            var alpha = Math.random().toPrecision(2);\r\n            return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alpha + ')';\r\n        }\r\n\r\n        //  Canvas manipulation\r\n\r\n        function Circle() {\r\n            var that = this;\r\n\r\n            // constructor\r\n            (function () {\r\n                that.pos = {};\r\n                init();\r\n            })();\r\n\r\n            function init() {\r\n                that.pos.x = Math.random() * width;\r\n                that.pos.y = height + Math.random() * 100;\r\n                that.alpha = 0.1 + Math.random() * settings.clearOffset;\r\n                that.scale = 0.1 + Math.random() * 0.3;\r\n                that.speed = Math.random();\r\n                if (settings.color === 'random') {\r\n                    that.color = randomColor();\r\n                }\r\n                else {\r\n                    that.color = settings.color;\r\n                }\r\n            }\r\n\r\n            this.draw = function () {\r\n                if (that.alpha <= 0) {\r\n                    init();\r\n                }\r\n                that.pos.y -= that.speed;\r\n                that.alpha -= 0.0005;\r\n                ctx.beginPath();\r\n                ctx.arc(that.pos.x, that.pos.y, that.scale * settings.radius, 0, 2 * Math.PI, false);\r\n                ctx.fillStyle = that.color;\r\n                ctx.fill();\r\n                ctx.closePath();\r\n            };\r\n        }\r\n    }\r\n})(jQuery);\n\n//# sourceURL=webpack://Cnblogs-Theme-SimpleMemory/./src/vendor/circleMagic/circleMagic.js?")}}]);