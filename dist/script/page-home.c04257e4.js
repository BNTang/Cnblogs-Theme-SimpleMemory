"use strict";(self.webpackChunkCnblogs_Theme_SimpleMemory=self.webpackChunkCnblogs_Theme_SimpleMemory||[]).push([["page-home"],{"./src/components/postMeta/postMeta.js":
/*!*********************************************!*\
  !*** ./src/components/postMeta/postMeta.js ***!
  \*********************************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ main; }\n/* harmony export */ });\n/**\r\n * UPDATES AND DOCS AT: https://github.com/BNDong\r\n * https://www.cnblogs.com/bndong/\r\n * @author: BNDong, dbnuo@foxmail.com\r\n * ----------------------------------------------\r\n * @describe: 文章信息\r\n */\r\n\r\nfunction main(postDescText) {\r\n    let getPostMetaInfo = (postDescText) => {\r\n        postDescText = postDescText.replace(/[\\r\\n]/g, '');\r\n\r\n        let postMetaRex  = /.*posted\\s*@\\s*([0-9\\-:\\s]{16}).*阅读\\s*\\(([0-9]*)\\).*评论\\s*\\(([0-9]*)\\).*推荐\\s*\\(([0-9]*)\\).*/,\r\n            postMetaRex2 = /.*posted\\s*@\\s*([0-9\\-:\\s]{16}).*阅读\\s*\\(([0-9]*)\\).*评论\\s*\\(([0-9]*)\\).*/,\r\n            postMetaRex3 = /.*posted\\s*@\\s*([0-9\\-:\\s]{16}).*/,\r\n            diggCount = $('#digg_count'),\r\n            info = postDescText.match(postMetaRex)\r\n                || postDescText.match(postMetaRex2)\r\n                || postDescText.match(postMetaRex3),\r\n            date = typeof info[1] === 'undefined' ? '1970-01-01 00:00' : info[1],\r\n            vnum = typeof info[2] === 'undefined' ? '0' : info[2],\r\n            cnum = typeof info[3] === 'undefined' ? '0' : info[3],\r\n            tnum = typeof info[4] === 'undefined' ?\r\n                (diggCount.length ? diggCount.text() : '0')\r\n                : info[4];\r\n\r\n        return {\r\n            date: date,\r\n            vnum: vnum,\r\n            cnum: cnum,\r\n            tnum: tnum,\r\n        };\r\n    };\r\n\r\n    return getPostMetaInfo(postDescText);\r\n}\n\n//# sourceURL=webpack://Cnblogs-Theme-SimpleMemory/./src/components/postMeta/postMeta.js?")},"./src/page/home.js":
/*!**************************!*\
  !*** ./src/page/home.js ***!
  \**************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ main; }\n/* harmony export */ });\n/* harmony import */ var _components_postMeta_postMeta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/postMeta/postMeta */ \"./src/components/postMeta/postMeta.js\");\n/**\r\n * UPDATES AND DOCS AT: https://github.com/BNDong\r\n * https://www.cnblogs.com/bndong/\r\n * @author: BNDong, dbnuo@foxmail.com\r\n * ----------------------------------------------\r\n * @describe: 主页处理\r\n */\r\n\r\n\r\nfunction main(_) {\r\n    /**\r\n     * 设置主页标语\r\n     */\r\n    (() => {\r\n\r\n        $('#homeTopTitle span').text(_.__config.info.name);\r\n\r\n        // 判断用户是否自定义了设置\r\n        let configTitle = _.__config.banner.home.title,\r\n            hitokoto = $('#hitokoto');\r\n\r\n        if ($.isArray(configTitle) && configTitle.length > 0) {\r\n\r\n            let listIndex = _.__tools.randomNum(0, configTitle.length - 1);\r\n            hitokoto.html(configTitle[listIndex]).css('display', '-webkit-box');\r\n            _.__tools.setDomHomePosition();\r\n            return true;\r\n\r\n        } else if (typeof configTitle === \"string\" && configTitle !== \"\") {\r\n\r\n            hitokoto.html(configTitle).css('display', '-webkit-box');\r\n            _.__tools.setDomHomePosition();\r\n            return true;\r\n        }\r\n\r\n        let topTitleList = [\r\n            '每一个不曾起舞的日子，都是对生命的辜负。', '公主死去了，屠龙的少年还在燃烧', '我们听过无数的道理，却仍旧过不好这一生。',\r\n            '生如夏花之绚烂，死如秋叶之静美。', '但凡不能杀死你的，最终都会使你更强大。','好看的皮囊千篇一律，有趣的灵魂万里挑一。',\r\n            '青春是一本太仓促的书，我们含着泪，一读再读。', '教育就是当一个人把在学校所学全部忘光之后剩下的东西。','孤独不是一种脾性，而是一种无奈。',\r\n            '有时候你以为天要塌下来了，其实是自己站歪了。', '温柔正确的人总是难以生存，因为这世界既不温柔，也不正确。', '死并非生的对立面，而作为生的一部分永存。',\r\n            '不要努力成为一个成功者，要努力成为一个有价值的人。', '不要因为走得太远，忘了我们为什么出发。', '你的问题主要在于读书不多而想得太多。',\r\n            '岁月不饶人，我亦未曾饶过岁月。', '当你凝视深渊时，深渊也在凝视着你。', '有的人25岁就死了，只是到75岁才埋葬'\r\n        ], settings = {};\r\n\r\n        switch (_.__config.banner.home.titleSource) {\r\n            case \"one\": //  ONE . 每日一句\r\n                settings = {\r\n                    \"async\": true,\r\n                    \"crossDomain\": true,\r\n                    \"url\": \"https://sentence.iciba.com/index.php?callback=onecallback&c=dailysentence&m=getdetail&title=\" + _.__tools.getNowFormatDate(),\r\n                    \"method\": \"POST\",\r\n                    \"dataType\": 'jsonp',\r\n                    \"headers\": {\r\n                        \"content-type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                    \"data\": {\r\n                        \"TransCode\": \"030111\",\r\n                        \"OpenId\": \"123456789\",\r\n                        \"Body\": \"\"\r\n                    }\r\n                };\r\n\r\n                $.ajax(settings).done((response) => {\r\n                    if (response.errno === 0) {\r\n                        hitokoto.html(response.note).css('display', '-webkit-box');\r\n                        $('#hitokotoAuthor').text(response.content).show();\r\n                    } else {\r\n                        let listIndex = _.__tools.randomNum(0, topTitleList.length - 1);\r\n                        hitokoto.html(topTitleList[listIndex]).css('display', '-webkit-box');\r\n                    }\r\n                    _.__tools.setDomHomePosition();\r\n                    return false;\r\n                });\r\n                break;\r\n\r\n            case \"jinrishici\":\r\n            default: // 今日诗词\r\n                settings = {\r\n                    \"async\": true,\r\n                    \"crossDomain\": true,\r\n                    \"url\": \"https://v2.jinrishici.com/one.json\",\r\n                    \"method\": \"GET\"\r\n                };\r\n\r\n                $.ajax(settings).done((response) => {\r\n                    if (response && response.status === \"success\") {\r\n                        hitokoto.html(response.data.content).css('display', '-webkit-box');\r\n                        $('#hitokotoAuthor').text('《'+response.data.origin.title+'》 - '+response.data.origin.dynasty+' - '+response.data.origin.author).show();\r\n                    } else {\r\n                        let listIndex = _.__tools.randomNum(0, topTitleList.length - 1);\r\n                        hitokoto.html(topTitleList[listIndex]).css('display', '-webkit-box');\r\n                    }\r\n                    _.__tools.setDomHomePosition();\r\n                    return false;\r\n                });\r\n                break;\r\n        }\r\n    })();\r\n\r\n    /**\r\n     * 头图点击滚动到内容位置\r\n     */\r\n    (() => {\r\n        $('.scroll-down').click(function () {\r\n            let endScroll;\r\n            endScroll = $('#home').offset().top + 10; _.__tools.actScroll(endScroll, 500);})\r\n    })();\r\n\r\n    /**\r\n     * 设置主页文章信息样式\r\n     */\r\n    (() => {\r\n        let read = $('#main .c_b_p_desc_readmore'), titleList = $('#main .postTitle');\r\n        read.text('阅读全文 »');\r\n        $.each(titleList, (i) => {\r\n            let title = $(titleList[i]),\r\n                titleText = title.text(),\r\n                postDescText = title.nextAll('.postDesc:eq(0)').text();\r\n            title.after(postMetaHtml(postDescText));\r\n            if (/\\[置顶\\]/.test(titleText)) title.append('<span class=\"postSticky\">置顶</span>');\r\n            title.find('a').text(titleText.replace('[置顶]', ''));\r\n        });\r\n\r\n        titleList = $('#main .entrylistPosttitle');\r\n        $.each(titleList, (i) => {\r\n            let title = $(titleList[i]),\r\n                postDescText = title.nextAll('.entrylistItemPostDesc:eq(0)').text();\r\n            title.after(postMetaHtml(postDescText));\r\n        });\r\n\r\n        function postMetaHtml(postDescText) {\r\n            let info = (0,_components_postMeta_postMeta__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(postDescText);\r\n            return '<span class=\"postMeta\"><i class=\"iconfont icon-time1\"></i>发表于 ' + info.date + '' +\r\n                '<i class=\"iconfont icon-browse\"></i>阅读：' + info.vnum + '' +\r\n                '<i class=\"iconfont icon-interactive\"></i>评论：' + info.cnum + '' +\r\n                '<i class=\"iconfont icon-hot\"></i>推荐：' + info.tnum + '' +\r\n                '</span>';\r\n        }\r\n    })();\r\n\r\n    /**\r\n     * 设置摘要文章\r\n     */\r\n    (() => {\r\n        let desc = $('.c_b_p_desc');\r\n        $.each(desc, (i) => {\r\n            let obj = $(desc[i]), img = obj.find('img.desc_img');\r\n            if (img.length > 0) {\r\n                let src = img.attr('src');\r\n                img.hide();\r\n                obj.css('width', '60%');\r\n                obj.parent('div').css('min-height', '150px');\r\n                let html = '<div class=\"c_b_p_desc_img\"><div style=\"background: url(\\''+ src +'\\') center center / cover no-repeat rgb(34, 34, 34);\"></div></div>';\r\n                obj.after(html);\r\n            }\r\n        });\r\n    })();\r\n\r\n    /**\r\n     * 主页banner动效\r\n     */\r\n    (() => {\r\n        if (_.__config.animate.homeBanner.enable) {\r\n            __webpack_require__.e(/*! import() | circleMagic */ \"circleMagic\").then(__webpack_require__.t.bind(__webpack_require__, /*! ../vendor/circleMagic/circleMagic */ \"./src/vendor/circleMagic/circleMagic.js\", 23)).then(module => {\r\n                $('.main-header').circleMagic(_.__config.animate.homeBanner.options);\r\n            });\r\n        }\r\n    })();\r\n}\n\n//# sourceURL=webpack://Cnblogs-Theme-SimpleMemory/./src/page/home.js?")}}]);