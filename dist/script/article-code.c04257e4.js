"use strict";(self.webpackChunkCnblogs_Theme_SimpleMemory=self.webpackChunkCnblogs_Theme_SimpleMemory||[]).push([["article-code"],{"./src/components/code/code.js":
/*!*************************************!*\
  !*** ./src/components/code/code.js ***!
  \*************************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ main; }\n/* harmony export */ });\n/* harmony import */ var clipboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clipboard */ \"./node_modules/clipboard/dist/clipboard.js\");\n/* harmony import */ var clipboard__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(clipboard__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hooks_beforeCode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../hooks/beforeCode */ \"./src/hooks/beforeCode.js\");\n/* harmony import */ var _hooks_afterCode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/afterCode */ \"./src/hooks/afterCode.js\");\n/**\r\n * UPDATES AND DOCS AT: https://github.com/BNDong\r\n * https://www.cnblogs.com/bndong/\r\n * @author: BNDong, dbnuo@foxmail.com\r\n * ----------------------------------------------\r\n * @describe: 代码高亮处理\r\n */\r\n\r\n\r\n\r\n\r\nfunction main(_) {\r\n    let preList = $('#main pre');\r\n\r\n    (0,_hooks_beforeCode__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_);\r\n\r\n    /**\r\n     * 初始化代码结构\r\n     */\r\n    (() => {\r\n        $.each(preList, function (i) {\r\n            let pre = $(preList[i]);\r\n            let boxId = 'code-' + _.__tools.randomString(6);\r\n\r\n            // 设置外部标签\r\n            pre.wrap('<code-box id=\"' + boxId + '\"></code-box>');\r\n            pre.attr('boxid', boxId);\r\n\r\n            // 增加语言标签\r\n            let preCode = pre.find('code');\r\n            if (preCode.length > 0) {\r\n                let codeClass = preCode.attr('class');\r\n                if (codeClass) {\r\n                    let lan = codeClass.match(/.*(language-[a-z0-9]+)\\s+.*/);\r\n                    if (!!lan && lan.length > 0) {\r\n                        pre.addClass(lan[1]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })();\r\n\r\n    /**\r\n     * 工具条\r\n     */\r\n    (() => {\r\n        if (_.__config.code.options.macStyle) {\r\n            let codeBox = $('code-box');\r\n            $.each(codeBox, function (i) {\r\n                $(codeBox[i]).prepend('<div class=\"code-tools\"></div>');\r\n            });\r\n        } else {\r\n            preList.css('border-radius', '4px');\r\n        }\r\n    })();\r\n\r\n    /**\r\n     * 复制代码\r\n     */\r\n    (() => {\r\n        let codeBox = $('code-box');\r\n        $.each(codeBox, function (i) {\r\n            let code  = $(codeBox[i]);\r\n            let boxId = code.attr('id');\r\n\r\n            let copyHtml = '<button boxid=\"' + boxId + '\" type=\"button\" class=\"clipboard code-copay-btn\" data-clipboard-action=\"copy\" data-clipboard-target=\"#' + boxId + ' pre\" aria-label=\"复制代码\" ><i class=\"iconfont icon-fuzhi1\"></i></button>';\r\n            code.prepend(copyHtml);\r\n        });\r\n\r\n        // 点击效果\r\n        $('code-box .code-copay-btn').click(function () {\r\n            $(this).find('i').removeClass('icon-fuzhi1').addClass('icon-right');\r\n            setTimeout(\"$('code-box button[boxid=\"+$(this).attr('boxid')+\"] i').removeClass('icon-right').addClass('icon-fuzhi1')\", 1500);\r\n        });\r\n\r\n        // 显示/隐藏\r\n        codeBox.on({\r\n            mouseover : function () {\r\n                $(this).find('.code-copay-btn').css({\r\n                    opacity: 1,\r\n                    visibility: 'visible'\r\n                });\r\n            },\r\n            mouseout : function () {\r\n                $(this).find('.code-copay-btn').css({\r\n                    opacity: 0,\r\n                    visibility: 'hidden'\r\n                });\r\n            }\r\n        });\r\n\r\n        // 拷贝\r\n        new (clipboard__WEBPACK_IMPORTED_MODULE_0___default())('.clipboard');\r\n    })();\r\n\r\n    /**\r\n     * 限制代码框高度\r\n     */\r\n    (() => {\r\n        if (_.__config.code.options.maxHeight)\r\n            $('code-box pre').css('max-height', _.__config.code.options.maxHeight);\r\n    })();\r\n\r\n    /**\r\n     * 渲染代码\r\n     */\r\n    (() => {\r\n        switch (_.__config.code.type.toLowerCase()) {\r\n            case 'hljs':\r\n                Promise.all(/*! import() | code-hljs */[__webpack_require__.e(\"vendors-node_modules_highlight_js_lib_index_js\"), __webpack_require__.e(\"code-hljs\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./lib/hljs */ \"./src/components/code/lib/hljs.js\")).then(module => {\r\n                    const main = module.default;\r\n                    main(_, setCodeLine);\r\n                });\r\n                break;\r\n\r\n            default:\r\n                preList.css('background', '#f5f5fa');\r\n                $('code-box .code-tools').css('background', '#f5f5fa');\r\n                setCodeLine();\r\n                break;\r\n        }\r\n        (0,_hooks_afterCode__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_);\r\n    })();\r\n\r\n    /**\r\n     * 设置代码行号\r\n     */\r\n    function setCodeLine() {\r\n        if (!_.__config.code.options.line) return true;\r\n\r\n        let preList = $('code-box pre');\r\n        $.each(preList, function (i) {\r\n            let pre = $(preList[i]);\r\n            let codeLine = pre.html().replace(/\\<br\\>/g, '\\n').split('\\n');\r\n            let code = [];\r\n\r\n            $.each(codeLine, (j) => {\r\n                if ($.trim(codeLine[j]) || j < codeLine.length - 1) {\r\n                    codeLine[j] !== '</code>' && code.push('<code-line class=\"line-numbers-rows\"></code-line>' + codeLine[j]);\r\n                }\r\n            });\r\n\r\n            pre.html(code.join('\\n'));\r\n            pre.addClass('code-pre-line');\r\n        });\r\n    }\r\n}\n\n//# sourceURL=webpack://Cnblogs-Theme-SimpleMemory/./src/components/code/code.js?")},"./src/hooks/afterCode.js":
/*!********************************!*\
  !*** ./src/hooks/afterCode.js ***!
  \********************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": function() { return /* binding */ main; }\n/* harmony export */ });\n/**\r\n * UPDATES AND DOCS AT: https://github.com/BNDong\r\n * https://www.cnblogs.com/bndong/\r\n * @author: BNDong, dbnuo@foxmail.com\r\n * ----------------------------------------------\r\n * @describe: code 渲染结束后\r\n */\r\n\r\nfunction main(_) {\r\n    if (typeof _.__config.hooks.afterCode === "function")\r\n        _.__config.hooks.afterCode(_);\r\n}\n\n//# sourceURL=webpack://Cnblogs-Theme-SimpleMemory/./src/hooks/afterCode.js?')},"./src/hooks/beforeCode.js":
/*!*********************************!*\
  !*** ./src/hooks/beforeCode.js ***!
  \*********************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": function() { return /* binding */ main; }\n/* harmony export */ });\n/**\r\n * UPDATES AND DOCS AT: https://github.com/BNDong\r\n * https://www.cnblogs.com/bndong/\r\n * @author: BNDong, dbnuo@foxmail.com\r\n * ----------------------------------------------\r\n * @describe: code 渲染开始前\r\n */\r\n\r\nfunction main(_) {\r\n    if (typeof _.__config.hooks.beforeCode === "function")\r\n        _.__config.hooks.beforeCode(_);\r\n}\n\n//# sourceURL=webpack://Cnblogs-Theme-SimpleMemory/./src/hooks/beforeCode.js?')}}]);